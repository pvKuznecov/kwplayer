(function(){"use strict";var e={4424:function(e,t,a){var r=a(5130),n=a(6768);function i(e,t,a,r,i,l){const o=(0,n.g2)("MainView");return(0,n.uX)(),(0,n.Wv)(o)}const l={id:"V_main"};function o(e,t){const a=(0,n.g2)("MusicPlayer");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.bF)(a)])}var s=a(4232),c=a(2659);const u=c+"#disc-fill",d=c+"#skip-backward-fill",h=c+"#stop-fill",k=c+"#play-fill",m=c+"#skip-forward-fill",f=c+"#arrow-clockwise",g=c+"#arrow-repeat",v=c+"#shuffle",p=c+"#volume-mute-fill",_=c+"#ui-checks-grid",b={key:0,class:"tableShow_config"},L={class:"tableShow_form"},y={class:"tableShow_header"},T={class:"tableShow_content"},C={class:"tableShow_content_elem"},w=["checked"],S={class:"tableShow_content_elem"},E=["checked"],X={class:"tableShow_content_elem"},A=["checked"],M={class:"tableShow_content_elem"},P=["checked"],x={class:"tableShow_content_elem"},F=["checked"],I={class:"tableShow_content_elem"},D=["checked"],V={class:"tableShow_butpannel"},R={class:"playlist"},O={class:"controlpanel"},j={class:"f_cover"},U={id:"svg_cover",class:"bi",width:"99",height:"99",fill:"currentColor"},Q={class:"f_panel"},$={class:"track_name"},z={key:0},q={class:"track_time"},W={class:"track_timeline"},K=["src","volume"],N=["max"],Z={class:"track_buttons"},B={class:"track_buttons"},G={class:"bi",width:"25",height:"25",fill:"currentColor",style:{opacity:".5"}},Y={class:"bi",width:"25",height:"25",fill:"currentColor",style:{opacity:".5"}},H={class:"bi",width:"25",height:"25",fill:"currentColor",style:{opacity:".5"}},J={class:"track_volume_elem"},ee={class:"track_buttons_elem"},te={class:"f_trackinfo"},ae={key:0},re={class:"tagkey"},ne={class:"tagval"},ie={class:"tagval"},le={class:"tagkey"},oe={key:0,class:"tagval"},se={key:1,class:"tagval"},ce={key:2,class:"tagval"},ue={class:"tagval"},de={class:"tagkey"},he={class:"tagval"},ke={class:"tagkey"},me={class:"tagval"},fe={class:"tagkey"},ge={class:"tagval"},ve={class:"tagkey"},pe={class:"tagval"},_e={class:"playlist_arr"},be={class:"bi",width:"18",height:"18",fill:"currentColor",style:{color:"white"}},Le={class:"music_playlist"},ye={key:0},Te={class:"table-header"},Ce={key:0},we={key:1},Se={key:2},Ee={key:3},Xe={key:4},Ae={key:5},Me=["onClick"],Pe={key:0,class:"track-number"},xe={key:1,class:"track-artist"},Fe={key:2,class:"track-album"},Ie={key:3,class:"track-genre"},De=["title"],Ve={key:5,class:"track-duration"},Re={key:1,class:"empty-state"};function Oe(e,t){const a=(0,n.g2)("MusicUploader");return(0,n.uX)(),(0,n.CE)(n.FK,null,[1===e.tableShow?((0,n.uX)(),(0,n.CE)("div",b,[(0,n.Lk)("div",L,[(0,n.Lk)("div",y,[t[20]||(t[20]=(0,n.Lk)("span",{class:"header_txt"},"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞",-1)),(0,n.Lk)("span",{class:"header_button",onClick:t[0]||(t[0]=t=>e.Chng_tableShow())},"X")]),(0,n.Lk)("div",T,[(0,n.Lk)("div",C,[t[21]||(t[21]=(0,n.eW)("‚Ññ: ",-1)),(0,n.Lk)("input",{type:"checkbox",name:"tabTag_id",id:"tabTag_id",checked:e.showTagsData.id},null,8,w)]),(0,n.Lk)("div",S,[t[22]||(t[22]=(0,n.eW)("–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: ",-1)),(0,n.Lk)("input",{type:"checkbox",name:"tabTag_artist",id:"tabTag_artist",checked:e.showTagsData.artist},null,8,E)]),(0,n.Lk)("div",X,[t[23]||(t[23]=(0,n.eW)("–ê–ª—å–±–æ–º: ",-1)),(0,n.Lk)("input",{type:"checkbox",name:"tabTag_album",id:"tabTag_album",checked:e.showTagsData.album},null,8,A)]),(0,n.Lk)("div",M,[t[24]||(t[24]=(0,n.eW)("–ù–∞–∑–≤–∞–Ω–∏–µ: ",-1)),(0,n.Lk)("input",{type:"checkbox",name:"tabTag_title",id:"tabTag_title",checked:e.showTagsData.title},null,8,P)]),(0,n.Lk)("div",x,[t[25]||(t[25]=(0,n.eW)("–ñ–∞–Ω—Ä: ",-1)),(0,n.Lk)("input",{type:"checkbox",name:"tabTag_genre",id:"tabTag_genre",checked:e.showTagsData.genre},null,8,F)]),(0,n.Lk)("div",I,[t[26]||(t[26]=(0,n.eW)("–í—Ä–µ–º—è: ",-1)),(0,n.Lk)("input",{type:"checkbox",name:"tabTag_duration",id:"tabTag_duration",checked:e.showTagsData.duration},null,8,D)]),(0,n.Lk)("div",V,[(0,n.Lk)("span",{class:"button_suc",onClick:t[1]||(t[1]=t=>e.Upd_tableShow())},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"),(0,n.Lk)("span",{class:"button_err",onClick:t[2]||(t[2]=t=>e.Chng_tableShow())},"–û—Ç–º–µ–Ω–∏—Ç—å")])])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",R,[(0,n.Lk)("div",O,[(0,n.Lk)("div",j,[((0,n.uX)(),(0,n.CE)("svg",U,[(0,n.Lk)("use",{"xlink:href":u,class:(0,s.C4)(e.Play?"rotating_rect":"")},null,2)]))]),(0,n.Lk)("div",Q,[(0,n.Lk)("div",$,[e.currentTrack?((0,n.uX)(),(0,n.CE)("span",z,(0,s.v_)(e.currentTrack.name),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",q,[(0,n.Lk)("i",null,(0,s.v_)(e.TrackTime&&0!==e.TrackTime.current?e.ShowerTime(e.TrackTime.current):"00:00"),1),t[27]||(t[27]=(0,n.eW)(" / ",-1)),(0,n.Lk)("i",null,(0,s.v_)(e.TrackTime&&0!==e.TrackTime.duration?e.ShowerTime(e.TrackTime.duration):"00:00"),1)]),(0,n.Lk)("div",W,[(0,n.Lk)("audio",{id:"main_audio",controls:"",onEnded:t[3]||(t[3]=(...t)=>e.onAudioEnded&&e.onAudioEnded(...t)),src:e.currentTrack?e.currentTrack.url:"",style:{display:"none"},volume:e.VolumeLvl,onTimeupdate:t[4]||(t[4]=(...t)=>e.onTimeUpdate&&e.onTimeUpdate(...t))},null,40,K),(0,n.Lk)("input",{id:"main_tracktime",class:"track_rangetime",type:"range",min:"0",max:e.TrackTime.duration,value:"0",onChange:t[5]||(t[5]=t=>e.Chng_TrackRangeTime())},null,40,N)]),(0,n.Lk)("div",Z,[(0,n.Lk)("div",{class:"track_buttons_elem",onClick:t[6]||(t[6]=t=>e.PlayerAction_PrevTrk())},[...t[28]||(t[28]=[(0,n.Lk)("svg",{class:"bi",width:"25",height:"25",fill:"currentColor"},[(0,n.Lk)("use",{"xlink:href":d})],-1)])]),(0,n.Lk)("div",{class:"track_buttons_elem",onClick:t[7]||(t[7]=t=>e.PlayerAction_Pause())},[...t[29]||(t[29]=[(0,n.Lk)("svg",{class:"bi",width:"25",height:"25",fill:"currentColor"},[(0,n.Lk)("use",{"xlink:href":h})],-1)])]),(0,n.Lk)("div",{class:"track_buttons_elem",onClick:t[8]||(t[8]=t=>e.PlayerAction_Play())},[...t[30]||(t[30]=[(0,n.Lk)("svg",{class:"bi",width:"25",height:"25",fill:"currentColor"},[(0,n.Lk)("use",{"xlink:href":k})],-1)])]),(0,n.Lk)("div",{class:"track_buttons_elem",onClick:t[9]||(t[9]=t=>e.PlayerAction_NextTrk())},[...t[31]||(t[31]=[(0,n.Lk)("svg",{class:"bi",width:"25",height:"25",fill:"currentColor"},[(0,n.Lk)("use",{"xlink:href":m})],-1)])])]),(0,n.Lk)("div",B,["one"==e.RepeatMode?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"track_buttons_elem",onClick:t[10]||(t[10]=t=>e.Chng_RepeatMode()),title:"–†–µ–∂–∏–º –ø–æ–≤—Ç–æ—Ä–∞: –æ–¥–∏–Ω —Ç—Ä–µ–∫"},[...t[32]||(t[32]=[(0,n.Lk)("svg",{class:"bi",width:"25",height:"25",fill:"currentColor"},[(0,n.Lk)("use",{"xlink:href":f})],-1)])])):"all"==e.RepeatMode?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"track_buttons_elem",onClick:t[11]||(t[11]=t=>e.Chng_RepeatMode()),title:"–†–µ–∂–∏–º –ø–æ–≤—Ç–æ—Ä–∞: –ø–ª–µ–π–ª–∏—Å—Ç"},[...t[33]||(t[33]=[(0,n.Lk)("svg",{class:"bi",width:"25",height:"25",fill:"currentColor"},[(0,n.Lk)("use",{"xlink:href":g})],-1)])])):((0,n.uX)(),(0,n.CE)("div",{key:2,class:"track_buttons_elem",onClick:t[12]||(t[12]=t=>e.Chng_RepeatMode()),title:"–†–µ–∂–∏–º –ø–æ–≤—Ç–æ—Ä–∞: –≤—ã–∫–ª—é—á–µ–Ω"},[((0,n.uX)(),(0,n.CE)("svg",G,[...t[34]||(t[34]=[(0,n.Lk)("use",{"xlink:href":f},null,-1)])]))])),e.Shuffle?((0,n.uX)(),(0,n.CE)("div",{key:3,class:"track_buttons_elem",onClick:t[13]||(t[13]=t=>e.Chng_Shuffle())},[...t[35]||(t[35]=[(0,n.Lk)("svg",{class:"bi",width:"25",height:"25",fill:"currentColor"},[(0,n.Lk)("use",{"xlink:href":v})],-1)])])):((0,n.uX)(),(0,n.CE)("div",{key:4,class:"track_buttons_elem",onClick:t[14]||(t[14]=t=>e.Chng_Shuffle())},[((0,n.uX)(),(0,n.CE)("svg",Y,[...t[36]||(t[36]=[(0,n.Lk)("use",{"xlink:href":v},null,-1)])]))])),e.SilentMode?((0,n.uX)(),(0,n.CE)("div",{key:5,class:"track_buttons_elem",onClick:t[15]||(t[15]=t=>e.Chng_SilentMode())},[...t[37]||(t[37]=[(0,n.Lk)("svg",{class:"bi",width:"25",height:"25",fill:"currentColor"},[(0,n.Lk)("use",{"xlink:href":p})],-1)])])):((0,n.uX)(),(0,n.CE)("div",{key:6,class:"track_buttons_elem",onClick:t[16]||(t[16]=t=>e.Chng_SilentMode())},[((0,n.uX)(),(0,n.CE)("svg",H,[...t[38]||(t[38]=[(0,n.Lk)("use",{"xlink:href":p},null,-1)])]))]))]),(0,n.Lk)("div",J,[(0,n.Lk)("div",{class:"track_buttons_elem",onClick:t[17]||(t[17]=t=>e.PlayerAction_VolMinus())},[...t[39]||(t[39]=[(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-dash-circle",viewBox:"0 0 16 16"},[(0,n.Lk)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,n.Lk)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})],-1)])]),(0,n.Lk)("div",ee,"VOL: "+(0,s.v_)(100*e.VolumeLvl)+"%",1),(0,n.Lk)("div",{class:"track_buttons_elem",onClick:t[18]||(t[18]=t=>e.PlayerAction_VolPlus())},[...t[40]||(t[40]=[(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-plus-circle",viewBox:"0 0 16 16"},[(0,n.Lk)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,n.Lk)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})],-1)])])])]),(0,n.Lk)("div",te,[e.currentTrack&&e.currentTrack.common?((0,n.uX)(),(0,n.CE)("table",ae,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",re,(0,s.v_)(e.TagsData.album)+":",1),(0,n.Lk)("td",ne,(0,s.v_)(e.currentTrack.common.album??""),1)]),(0,n.Lk)("tr",null,[t[41]||(t[41]=(0,n.Lk)("td",{class:"tagkey"},"albumartist:",-1)),(0,n.Lk)("td",ie,(0,s.v_)(e.currentTrack.common.albumartist??""),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",le,(0,s.v_)(e.TagsData.artist)+":",1),e.currentTrack.common?.artists?((0,n.uX)(),(0,n.CE)("td",oe,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.currentTrack.common?.artists||[],e=>((0,n.uX)(),(0,n.CE)("div",null,(0,s.v_)(e),1))),256))])):e.currentTrack.common?.artist?((0,n.uX)(),(0,n.CE)("td",se,(0,s.v_)(e.currentTrack.common.artist),1)):((0,n.uX)(),(0,n.CE)("td",ce))]),(0,n.Lk)("tr",null,[t[42]||(t[42]=(0,n.Lk)("td",{class:"tagkey"},"–î–∏—Å–∫:",-1)),(0,n.Lk)("td",ue,(0,s.v_)(e.currentTrack.common.disk&&e.currentTrack.common.disk.no&&e.currentTrack.common.disk.of?e.currentTrack.common.disk.no+" "+e.currentTrack.common.disk.of:""),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",de,(0,s.v_)(e.TagsData.genre)+":",1),(0,n.Lk)("td",he,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.currentTrack.common?.genre||[],e=>((0,n.uX)(),(0,n.CE)("div",null,(0,s.v_)(e),1))),256))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",ke,(0,s.v_)(e.TagsData.title)+":",1),(0,n.Lk)("td",me,(0,s.v_)(e.currentTrack.common.title??""),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",fe,(0,s.v_)(e.TagsData.track_no)+":",1),(0,n.Lk)("td",ge,(0,s.v_)(e.currentTrack.common.track&&e.currentTrack.common.track.no&&e.currentTrack.common.track.of?e.currentTrack.common.track.no+" "+e.TagsData.track_of+" "+e.currentTrack.common.track.of:""),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",ve,(0,s.v_)(e.TagsData.year)+":",1),(0,n.Lk)("td",pe,(0,s.v_)(e.currentTrack.common.year??""),1)])])])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",_e,[t[45]||(t[45]=(0,n.Lk)("div",{class:"playlist_name"},"–ù–æ–≤—ã–π –ø–ª–µ–π–ª–∏—Å—Ç",-1)),(0,n.bF)(a,{onFilesSelected:e.onFilesSelected},null,8,["onFilesSelected"]),(0,n.Lk)("span",{class:"playlist_tabConfig",title:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è",onClick:t[19]||(t[19]=t=>e.Chng_tableShow())},[((0,n.uX)(),(0,n.CE)("svg",be,[...t[43]||(t[43]=[(0,n.Lk)("use",{"xlink:href":_},null,-1)])]))]),(0,n.Lk)("div",Le,[e.preparedTracks&&e.preparedTracks.length>0?((0,n.uX)(),(0,n.CE)("table",ye,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",Te,[e.tableShowConfig.id?((0,n.uX)(),(0,n.CE)("th",Ce,"‚Ññ")):(0,n.Q3)("",!0),e.tableShowConfig.artist?((0,n.uX)(),(0,n.CE)("th",we,"–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å")):(0,n.Q3)("",!0),e.tableShowConfig.album?((0,n.uX)(),(0,n.CE)("th",Se,"–ê–ª—å–±–æ–º")):(0,n.Q3)("",!0),e.tableShowConfig.genre?((0,n.uX)(),(0,n.CE)("th",Ee,"–ñ–∞–Ω—Ä")):(0,n.Q3)("",!0),e.tableShowConfig.title?((0,n.uX)(),(0,n.CE)("th",Xe,"–ù–∞–∑–≤–∞–Ω–∏–µ")):(0,n.Q3)("",!0),e.tableShowConfig.duration?((0,n.uX)(),(0,n.CE)("th",Ae,"–í—Ä–µ–º—è")):(0,n.Q3)("",!0)])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.preparedTracks,(t,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:t.id,class:(0,s.C4)([{active:e.currentTrack&&t.id===e.currentTrack.id},"track-row"]),onClick:t=>e.SelectedTrack(a)},[e.tableShowConfig.id?((0,n.uX)(),(0,n.CE)("td",Pe,(0,s.v_)(a+1),1)):(0,n.Q3)("",!0),e.tableShowConfig.artist?((0,n.uX)(),(0,n.CE)("td",xe,(0,s.v_)(t.common?.artist||"–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω"),1)):(0,n.Q3)("",!0),e.tableShowConfig.album?((0,n.uX)(),(0,n.CE)("td",Fe,(0,s.v_)(t.common?.album||"–ë–µ–∑ –∞–ª—å–±–æ–º–∞"),1)):(0,n.Q3)("",!0),e.tableShowConfig.genre?((0,n.uX)(),(0,n.CE)("td",Ie,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.common?.genre||[],e=>((0,n.uX)(),(0,n.CE)("div",null,(0,s.v_)(e),1))),256))])):(0,n.Q3)("",!0),e.tableShowConfig.title?((0,n.uX)(),(0,n.CE)("td",{key:4,class:"track-title",title:t.name},(0,s.v_)(t.name),9,De)):(0,n.Q3)("",!0),e.tableShowConfig.duration?((0,n.uX)(),(0,n.CE)("td",Ve,(0,s.v_)(t.duration?e.formatDuration(t.duration):"--:--"),1)):(0,n.Q3)("",!0)],10,Me))),128))])])):((0,n.uX)(),(0,n.CE)("div",Re,[...t[44]||(t[44]=[(0,n.Lk)("p",null,"üéµ –ù–µ—Ç —Ç—Ä–µ–∫–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è",-1),(0,n.Lk)("p",{class:"empty-hint"},"–ó–∞–≥—Ä—É–∑–∏—Ç–µ –º—É–∑—ã–∫—É —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –≤—ã—à–µ",-1)])]))])])])],64)}a(8111),a(2489),a(1701),a(4603),a(7566),a(8721);const je={for:"file-input",class:"custom-file-upload"},Ue=["disabled"],Qe={key:0,class:"progress-info"},$e={class:"progress-bar"};function ze(e,t){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("label",je,[e.isLoading?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.eW)("‚è≥ –û–±—Ä–∞–±–æ—Ç–∫–∞... "+(0,s.v_)(e.processedCount)+"/"+(0,s.v_)(e.totalFiles),1)],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)("üìÅ –£–∫–∞–∑–∞—Ç—å –ø–∞–ø–∫—É +")],64)),(0,n.Lk)("input",{id:"file-input",type:"file",webkitdirectory:"",directory:"",multiple:"",onChange:t[0]||(t[0]=(...t)=>e.handleFileSelect&&e.handleFileSelect(...t)),disabled:e.isLoading},null,40,Ue)]),e.isLoading?((0,n.uX)(),(0,n.CE)("div",Qe,[(0,n.Lk)("div",$e,[(0,n.Lk)("div",{class:"progress-fill",style:(0,s.Tr)({width:e.processedCount/e.totalFiles*100+"%"})},null,4)])])):(0,n.Q3)("",!0)],64)}a(4114),a(7588);var qe=a(6557),We={name:"MusicUploader",data(){return{PlayList:!1,isLoading:!1,totalFiles:0,processedCount:0,MAX_FILE_SIZE:104857600,MAX_PLAYLIST_SIZE:1048576e3,curFilesSize:0}},methods:{async handleFileSelect(e){const t=Array.from(e.target.files),a=t.filter(e=>this.isAudio(e));if(0===a.length)return this.showError("–ù–µ –±—ã–ª–æ –≤—ã–±—Ä–∞–Ω–æ –Ω–∏ –æ–¥–Ω–æ–≥–æ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞."),void this.resetInput(e.target);let r=0;if(t.forEach(function(e){r+=e.size}),r>this.MAX_PLAYLIST_SIZE)return this.showError("–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–π –ø–∞–º—è—Ç–∏! –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä - "+this.MAX_PLAYLIST_SIZE/1024/1024+"MB."),void this.resetInput(e.target);this.isLoading=!0,this.totalFiles=a.length,this.processedCount=0;let n=[];for(let l of a){try{const e=l.slice(0,l.size);let t=await(0,qe.Xs)(e);l.common=t.common,n.push(l)}catch(i){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–∑–±–æ—Ä–µ —Ñ–∞–π–ª–∞:",i)}this.processedCount++}this.isLoading=!1,n.length>0?(this.$emit("files-selected",n),this.PlayList=!0):alert("–ù–µ –±—ã–ª–æ –≤—ã–±—Ä–∞–Ω–æ –Ω–∏ –æ–¥–Ω–æ–≥–æ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞.")},isAudio(e){if(e.size>this.MAX_FILE_SIZE)return console.warn(`–§–∞–π–ª ${e.name} —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π: ${e.size} bytes`),!1;const t=["audio/mpeg","audio/wav","audio/flac","audio/ogg","audio/aac","audio/x-m4a"],a=e.name.toLowerCase().split(".").pop(),r=["mp3","wav","flac","ogg","aac","m4a"];return t.includes(e.type)||r.includes(a)},showError(e){alert(e),console.error(e)},resetInput(e){e.value=""}}},Ke=a(1241);const Ne=(0,Ke.A)(We,[["render",ze]]);var Ze=Ne,Be={name:"MusicPlayer",components:{MusicUploader:Ze},data(){return{currentIndex:0,TargetTrack:!1,FindTracks:[],VolumeLvl:.5,VolumeLvl_save:.5,Play:!1,Shuffle:!1,SilentMode:!1,TrackTime:{current:0,duration:0},RepeatMode:"all",tableShow:0,audioDurations:{},tableShowConfig:{id:!0,artist:!0,album:!0,title:!0,duration:!0,genre:!0},showTagsData:{id:!0,artist:!0,album:!0,title:!0,duration:!0,genre:!0},TagsData:{title:"–ù–∞–∑–≤–∞–Ω–∏–µ",disc_no:"–î–∏—Å–∫ ‚Ññ",disc_of:"–∏–∑",track_no:"–ö–æ–º–ø–æ–∑–∏—Ü–∏—è ‚Ññ",track_of:"–∏–∑",genre:"–ñ–∞–Ω—Ä",artist:"–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å",album:"–ê–ª—å–±–æ–º",year:"–ì–æ–¥"},urlsData:new Map}},computed:{preparedTracks(){return this.FindTracks&&Array.isArray(this.FindTracks)?this.FindTracks.map((e,t)=>{if(!e||"object"!==typeof e)return console.warn("Invalid track object::",t),null;const a=this.getStableTrackId(e,t),r=`${e.name}-${e.size}`;let n={id:a,name:e.name||"Unknown",common:e.common||{},duration:this.audioDurations[r]||null,url:this.getObjectURL(e),key:r};return n}).filter(e=>null!==e):[]},currentTrack(){const e=this.currentIndex+"",t=this.preparedTracks;return t&&t.length>0&&e?t[e]:null}},watch:{FindTracks:{handler(e){e&&e.length>0&&this.preloadDurationsSimple(e)},immediate:!0}},methods:{getStableTrackId(e,t){return e.id?e.id:`track-${t}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`},getObjectURL(e){const t=`${e.name}-${e.size}`;return this.urlsData.has(t)||this.urlsData.set(t,URL.createObjectURL(e)),this.urlsData.get(t)},SelectedTrack(e){this.currentIndex&&this.currentIndex===e||(this.currentIndex=e)},GetRandom_Ind(){const e=this.preparedTracks?this.preparedTracks.length:0;return Math.floor(Math.random()*e)},onFilesSelected(e){this.FindTracks=e},PlayerAction_Play(){const e=document.querySelector("#main_audio"),t=this.preparedTracks;e&&t&&t.length>0&&(e.play(),this.Play=!0)},PlayerAction_Pause(){const e=document.querySelector("#main_audio"),t=this.preparedTracks;e&&t&&t.length>0&&(e.pause(),this.Play=!1)},PlayerAction_VolPlus(){const e=document.querySelector("#main_audio");e&&(this.VolumeLvl<1&&(this.VolumeLvl=parseFloat((this.VolumeLvl+.1).toFixed(1))),e.volume=this.VolumeLvl)},PlayerAction_VolMinus(){const e=document.querySelector("#main_audio");this.VolumeLvl>0&&(this.VolumeLvl=parseFloat((this.VolumeLvl-.1).toFixed(1))),e.volume=this.VolumeLvl},PlayerAction_PrevTrk(){const e=this.currentIndex,t=this.preparedTracks;t&&t.length>0&&(this.PlayerAction_Pause(),this.Shuffle?(this.currentIndex=this.GetRandom_Ind(),console.log("new curindex",this.Shuffle)):this.currentIndex=0==e?t.length-1:e-1,setTimeout(()=>{this.PlayerAction_Play()},500))},PlayerAction_NextTrk(){const e=this.currentIndex,t=this.preparedTracks;t&&t.length>0&&(this.PlayerAction_Pause(),this.Shuffle?(this.currentIndex=this.GetRandom_Ind(),console.log("new curindex",this.Shuffle)):e==t.length-1?this.currentIndex=0:this.currentIndex=e+1,setTimeout(()=>{this.PlayerAction_Play()},500))},Chng_Shuffle(){this.Shuffle=!this.Shuffle},Chng_SilentMode(){const e=this.SilentMode;e?this.VolumeLvl=this.VolumeLvl_save:(this.VolumeLvl_save=this.VolumeLvl,this.VolumeLvl=0),this.SilentMode=!e},Chng_RepeatMode(){let e=document.querySelector("#main_audio");switch(this.RepeatMode){case"":this.RepeatMode="one",e.loop=!0;break;case"one":this.RepeatMode="all",e.loop=!1;break;default:this.RepeatMode="all",e.loop=!1;break}},Chng_TrackRangeTime(){const e=document.querySelector("#main_audio"),t=document.querySelector("#main_tracktime");e.currentTime=t.value},ShowerTime(e){if(e&&"number"==typeof e){let t=Math.trunc(e),a=Math.trunc(t/60)<10?"0"+Math.trunc(t/60):Math.trunc(t/60),r=t%60<10?"0"+t%60:t%60;return a+":"+r}return"00:00"},onTimeUpdate(e){const t=e.target;this.TrackTime.current=t.currentTime,this.TrackTime.duration=t.duration||0,this.TrackTime.current==this.TrackTime.duration&&this.PlayerAction_Pause();let a=document.querySelector("#main_tracktime");a.value=this.TrackTime.current},Chng_tableShow(){this.tableShow=0==this.tableShow?1:0},Upd_tableShow(){let e=this.showTagsData;for(var t in e)e[t]=document.querySelector("#tabTag_"+t).checked;this.showTagsData=e,this.Chng_tableShow()},onAudioEnded(){const e=this.RepeatMode;"one"===e?this.PlayerAction_Play():this.PlayerAction_NextTrk()},formatDuration(e){return!e||isNaN(e)?"00:00":`${Math.floor(e/60).toString().padStart(2,"0")}:${Math.floor(e%60).toString().padStart(2,"0")}`},getAudioDurationSimple(e){return new Promise((t,a)=>{const r=new Audio,n=URL.createObjectURL(e);r.src=n;const i=()=>{r.removeEventListener("loadedmetadata",l),r.removeEventListener("error",o),URL.revokeObjectURL(n)},l=()=>{i(),t(r.duration)},o=e=>{i(),a(e)};r.addEventListener("loadedmetadata",l),r.addEventListener("error",o),setTimeout(()=>{i(),a(new Error("Timeout loading audio metadata"))},3e3)})},async preloadDurationsSimple(e){for(const a of e){const e=`${a.name}-${a.size}`;if(!this.audioDurations[e])try{this.audioDurations[e]=await this.getAudioDurationSimple(a)}catch(t){console.warn(`–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è ${a.name}:`,t),this.audioDurations[e]=0}}}}};const Ge=(0,Ke.A)(Be,[["render",Oe]]);var Ye=Ge,He={name:"MainView",components:{MusicPlayer:Ye}};const Je=(0,Ke.A)(He,[["render",o]]);var et=Je,tt={name:"App",components:{MainView:et}};const at=(0,Ke.A)(tt,[["render",i]]);var rt=at;(0,r.Ef)(rt).mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,i){if(!r){var l=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],i=e[u][2];for(var o=!0,s=0;s<r.length;s++)(!1&i||l>=i)&&Object.keys(a.O).every(function(e){return a.O[e](r[s])})?r.splice(s--,1):(o=!1,i<l&&(l=i));if(o){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,n,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,r){return a.f[r](e,t),t},[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{54:"340dfadc",156:"d4807299",219:"b320d892",225:"521d6d62",245:"86cdf817",444:"ef72d9f9",479:"858ede4a",530:"8f367bb3",755:"5db6478f",802:"e707f37b",821:"0fb6f97f",965:"93dca2f6",989:"19a10bbb"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="kwplayer:";a.l=function(r,n,i,l){if(e[r])e[r].push(n);else{var o,s;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(s=!0,o=document.createElement("script"),o.charset="utf-8",a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[n];var h=function(t,a){o.onerror=o.onload=null,clearTimeout(k);var n=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach(function(e){return e(a)}),t)return t(a)},k=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),s&&document.head.appendChild(o)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/kwplayer/"}(),function(){var e={524:0};a.f.j=function(t,r){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise(function(a,r){n=e[t]=[a,r]});r.push(n[2]=i);var l=a.p+a.u(t),o=new Error,s=function(r){if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),l=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+l+")",o.name="ChunkLoadError",o.type=i,o.request=l,n[1](o)}};a.l(l,s,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,i,l=r[0],o=r[1],s=r[2],c=0;if(l.some(function(t){return 0!==e[t]})){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(s)var u=s(a)}for(t&&t(r);c<l.length;c++)i=l[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},r=self["webpackChunkkwplayer"]=self["webpackChunkkwplayer"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],function(){return a(4424)});r=a.O(r)})();
//# sourceMappingURL=app.942df0e3.js.map