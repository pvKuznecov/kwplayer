(function(){"use strict";var e={8358:function(e,l,t){var i=t(5130),a=t(6768);const r={id:"app"};function n(e,l,t,i,n,o){const c=(0,a.g2)("MainView");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(c)])}const o={id:"V_main"};function c(e,l){const t=(0,a.g2)("MusicPlaylist");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(t)])}var s=t(4232);const u={class:"playlist"},d={class:"playlist_name"},k={key:0},v={key:1},m={class:"controlpanel"},p={class:"f_cover"},h={class:"f_panel"},f={class:"track_name"},L={class:"track_time"},y={class:"track_timeline"},g=["src","volume"],w={class:"track_buttons"},_={class:"track_volume_elem"},b={class:"track_buttons_elem"},T={class:"playlist_arr"};function P(e,l){const t=(0,a.g2)("MusicUploader"),i=(0,a.g2)("MusicPlayer");return(0,a.uX)(),(0,a.CE)("div",u,[(0,a.Lk)("div",d,[e.EditPlaylistMode?((0,a.uX)(),(0,a.CE)("div",k,[...l[4]||(l[4]=[(0,a.Lk)("input",{type:"text",name:"playlist_name",id:"playlist_name"},null,-1)])])):((0,a.uX)(),(0,a.CE)("div",v,"[ "+(0,s.v_)(e.Playlist.name)+" ]",1))]),(0,a.Lk)("div",m,[(0,a.Lk)("table",null,[(0,a.Lk)("tbody",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",p,[(0,a.Lk)("div",null,[((0,a.uX)(),(0,a.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"99",height:"99",fill:"currentColor",class:(0,s.C4)(["bi bi-disc-fill",e.Play?"rotating_rect":""]),viewBox:"0 0 16 16"},[...l[5]||(l[5]=[(0,a.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-6 0a2 2 0 1 0-4 0 2 2 0 0 0 4 0zM4 8a4 4 0 0 1 4-4 .5.5 0 0 0 0-1 5 5 0 0 0-5 5 .5.5 0 0 0 1 0zm9 0a.5.5 0 1 0-1 0 4 4 0 0 1-4 4 .5.5 0 0 0 0 1 5 5 0 0 0 5-5z"},null,-1)])],2))])]),(0,a.Lk)("td",h,[(0,a.Lk)("div",f,(0,s.v_)(e.TargetTrack.name),1),(0,a.Lk)("div",L,[(0,a.Lk)("i",null,(0,s.v_)(e.TrackTime&&0!==e.TrackTime.current?e.TrackTime.current:"00"),1),l[6]||(l[6]=(0,a.eW)(" / ",-1)),(0,a.Lk)("i",null,(0,s.v_)(e.TrackTime&&0!==e.TrackTime.all?e.TrackTime.all:"00"),1)]),(0,a.Lk)("div",y,[(0,a.Lk)("audio",{id:"main_audio",controls:"",src:e.TargetTrack.url,style:{display:"none"},volume:e.VolumeLvl},null,8,g),l[7]||(l[7]=(0,a.Lk)("input",{class:"track_rangetime",type:"range",min:"0",max:"1",step:"0.01"},null,-1))]),(0,a.Lk)("div",w,[l[12]||(l[12]=(0,a.Lk)("div",{class:"track_buttons_elem"},[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-skip-backward-fill",viewBox:"0 0 16 16"},[(0,a.Lk)("path",{d:"M.5 3.5A.5.5 0 0 0 0 4v8a.5.5 0 0 0 1 0V8.753l6.267 3.636c.54.313 1.233-.066 1.233-.697v-2.94l6.267 3.636c.54.314 1.233-.065 1.233-.696V4.308c0-.63-.693-1.01-1.233-.696L8.5 7.248v-2.94c0-.63-.692-1.01-1.233-.696L1 7.248V4a.5.5 0 0 0-.5-.5z"})])],-1)),(0,a.Lk)("div",{class:"track_buttons_elem",onClick:l[0]||(l[0]=l=>e.PlayerAction_Pause())},[...l[8]||(l[8]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-stop-fill",viewBox:"0 0 16 16"},[(0,a.Lk)("path",{d:"M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5z"})],-1)])]),(0,a.Lk)("div",{class:"track_buttons_elem",onClick:l[1]||(l[1]=l=>e.PlayerAction_Play())},[...l[9]||(l[9]=[(0,a.Lk)("svg",{xmlns:"../../",width:"40",height:"40",fill:"currentColor",class:"bi bi-play-fill",viewBox:"0 0 16 16"},[(0,a.Lk)("path",{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"})],-1)])]),l[13]||(l[13]=(0,a.Lk)("div",{class:"track_buttons_elem"},[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-skip-forward-fill",viewBox:"0 0 16 16"},[(0,a.Lk)("path",{d:"M15.5 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V8.753l-6.267 3.636c-.54.313-1.233-.066-1.233-.697v-2.94l-6.267 3.636C.693 12.703 0 12.324 0 11.693V4.308c0-.63.693-1.01 1.233-.696L7.5 7.248v-2.94c0-.63.693-1.01 1.233-.696L15 7.248V4a.5.5 0 0 1 .5-.5z"})])],-1)),(0,a.Lk)("div",_,[(0,a.Lk)("div",{class:"track_buttons_elem",onClick:l[2]||(l[2]=l=>e.PlayerAction_VolMinus())},[...l[10]||(l[10]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-dash-circle",viewBox:"0 0 16 16"},[(0,a.Lk)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,a.Lk)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})],-1)])]),(0,a.Lk)("div",b,(0,s.v_)(100*e.VolumeLvl)+"% ",1),(0,a.Lk)("div",{class:"track_buttons_elem",onClick:l[3]||(l[3]=l=>e.PlayerAction_VolPlus())},[...l[11]||(l[11]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-plus-circle",viewBox:"0 0 16 16"},[(0,a.Lk)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,a.Lk)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})],-1)])])])])])])])])]),(0,a.Lk)("div",T,[(0,a.bF)(t,{onFilesSelected:e.onFilesSelected},null,8,["onFilesSelected"]),(0,a.bF)(i,{tracks:e.selectedTracks,onSelectedTrack:e.onSelectedTrack},null,8,["tracks","onSelectedTrack"])])])}t(8111),t(2489);const V={class:"music-uploader"},C={for:"file-input",style:{"font-size":"small"},class:"custom-file-upload"};function A(e,l){return(0,a.uX)(),(0,a.CE)("div",V,[(0,a.Lk)("label",C,[l[1]||(l[1]=(0,a.eW)(" Указать папку + ",-1)),(0,a.Lk)("input",{id:"file-input",type:"file",webkitdirectory:"",directory:"",multiple:"",onChange:l[0]||(l[0]=(...l)=>e.handleFileSelect&&e.handleFileSelect(...l))},null,32)])])}var M={name:"MusicUploader",data(){return{PlayList:!1}},methods:{handleFileSelect(e){const l=e.target.files;this.$emit("files-selected",Array.from(l)),this.PlayList=!0}}},x=t(1241);const S=(0,x.A)(M,[["render",A]]);var F=S;const z={class:"music_player"},E=["onClick"],O=["onClick"];function X(e,l){return(0,a.uX)(),(0,a.CE)("div",z,[(0,a.Lk)("table",null,[(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.preparedTracks,(t,i)=>((0,a.uX)(),(0,a.CE)("tr",{key:t.id},[(0,a.Lk)("td",{onClick:l=>e.SelectedTrack(t)},(0,s.v_)(i+1),9,E),(0,a.Lk)("td",{onClick:l=>e.SelectedTrack(t),style:{"text-align":"right"}},(0,s.v_)(t.name),9,O),l[0]||(l[0]=(0,a.Lk)("td",null,"00:00",-1))]))),128))])])])}t(1701),t(4603),t(7566),t(8721);var j={name:"MusicPlayer",props:["tracks"],computed:{preparedTracks(){return console.log("tracks",this.tracks),this.tracks.map(e=>({id:e.id||e.name,name:e.name,url:URL.createObjectURL(e)}))}},methods:{SelectedTrack(e){console.log("trVal",e),this.$emit("selected-track",e)}}};const B=(0,x.A)(j,[["render",X]]);var q=B,U={name:"MusicPlaylist",components:{MusicUploader:F,MusicPlayer:q},data(){return{Playlist:{name:"New playlist"},TargetTrack:!1,selectedTracks:[],EditPlaylistMode:!1,VolumeLvl:.5,Play:!1,TrackTime:{current:0,all:0}}},computed:{TTrackData(){const e=document.querySelector("#main_audio");return console.log("AudioElement",e.duration),!0}},methods:{onFilesSelected(e){this.selectedTracks=e.filter(e=>"audio/mpeg"===e.type)},onSelectedTrack(e){this.TargetTrack.id!==e.id&&(this.Play=!1),this.TargetTrack=e},PlayerAction_Play(){let e=document.querySelector("#main_audio");e.play(),this.Play=!0},PlayerAction_Pause(){let e=document.querySelector("#main_audio");e.pause(),this.Play=!1},PlayerAction_VolPlus(){let e=document.querySelector("#main_audio");this.VolumeLvl<1&&(this.VolumeLvl=parseFloat((this.VolumeLvl+.1).toFixed(1)),console.log("VolumeLvl",this.VolumeLvl)),e.volume=this.VolumeLvl},PlayerAction_VolMinus(){let e=document.querySelector("#main_audio");this.VolumeLvl>0&&(this.VolumeLvl=parseFloat((this.VolumeLvl-.1).toFixed(1)),console.log("VolumeLvl",this.VolumeLvl)),e.volume=this.VolumeLvl}}};const R=(0,x.A)(U,[["render",P]]);var W=R,$={name:"MainView",components:{MusicPlaylist:W}};const D=(0,x.A)($,[["render",c]]);var H=D,I={name:"App",components:{MainView:H}};const K=(0,x.A)(I,[["render",n]]);var N=K;(0,i.Ef)(N).mount("#app")}},l={};function t(i){var a=l[i];if(void 0!==a)return a.exports;var r=l[i]={exports:{}};return e[i].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(l,i,a,r){if(!i){var n=1/0;for(u=0;u<e.length;u++){i=e[u][0],a=e[u][1],r=e[u][2];for(var o=!0,c=0;c<i.length;c++)(!1&r||n>=r)&&Object.keys(t.O).every(function(e){return t.O[e](i[c])})?i.splice(c--,1):(o=!1,r<n&&(n=r));if(o){e.splice(u--,1);var s=a();void 0!==s&&(l=s)}}return l}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[i,a,r]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){t.d=function(e,l){for(var i in l)t.o(l,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:l[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={524:0};t.O.j=function(l){return 0===e[l]};var l=function(l,i){var a,r,n=i[0],o=i[1],c=i[2],s=0;if(n.some(function(l){return 0!==e[l]})){for(a in o)t.o(o,a)&&(t.m[a]=o[a]);if(c)var u=c(t)}for(l&&l(i);s<n.length;s++)r=n[s],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(u)},i=self["webpackChunkkwplayer"]=self["webpackChunkkwplayer"]||[];i.forEach(l.bind(null,0)),i.push=l.bind(null,i.push.bind(i))}();var i=t.O(void 0,[504],function(){return t(8358)});i=t.O(i)})();
//# sourceMappingURL=app.bc45a9a5.js.map